# 板式家具加工工艺流程设计系统

一个基于 React + TypeScript + Ant Design + ReactFlow 的现代化板式家具加工工艺流程设计和管理系统，支持多部件尺寸计算和统一效率管理。

## 🎯 核心功能

### 📐 多部件尺寸计算
- **智能尺寸计算**：根据部件长度、宽度、厚度自动计算面积和体积
- **工艺时间估算**：基于部件尺寸和复杂度自动计算每个工艺的加工时间
- **材料成本计算**：根据部件尺寸和材料单价自动计算材料成本
- **批量数量支持**：支持设置部件数量，自动计算总加工时间和成本

### ⚙️ 统一效率管理
- **工艺效率配置**：统一管理所有工艺的基础时间、尺寸系数、复杂度系数
- **实时计算更新**：修改效率配置后，所有相关计算自动更新
- **效率统计分析**：提供效率配置的统计分析和优化建议
- **可扩展配置**：支持添加自定义工艺和效率参数

### 🏗️ 产品设计管理
- **多部件产品**：支持一个产品包含多个不同部件
- **部件工艺配置**：为每个部件配置不同的加工工艺
- **复杂度分级**：支持简单、中等、复杂三个复杂度等级
- **材料选择**：支持多种材料类型和计价方式

### 📊 成本分析
- **材料成本**：根据部件尺寸和材料单价计算
- **人工成本**：根据总加工时间计算
- **管理费用**：自动计算管理成本
- **成本优化建议**：提供成本优化分析

## 🎨 界面特性

- **现代化UI**：基于 Ant Design 5.x 的现代化界面设计
- **响应式布局**：支持桌面端和移动端访问
- **交互式流程图**：可拖拽、缩放、连接的工艺流程节点
- **多标签页管理**：概览、产品设计、效率配置、材料管理、设备管理
- **实时数据更新**：所有数据变更实时反映在界面上

## 🔧 技术栈

- **前端框架**：React 19.1.0
- **开发语言**：TypeScript 5.8.3
- **UI组件库**：Ant Design 5.26.7
- **流程图库**：ReactFlow 11.11.4
- **构建工具**：Vite 4.5.2
- **代码规范**：ESLint 9.30.1

## 📁 项目结构

```
src/
├── components/           # 组件目录
│   ├── EfficiencyConfigManager.tsx  # 效率配置管理
│   └── ProductDesigner.tsx          # 产品设计器
├── data/                # 数据目录
│   └── defaultData.ts   # 默认数据配置
├── types/               # 类型定义
│   └── types.ts         # 核心类型定义
├── utils/               # 工具函数
│   └── calculations.ts  # 计算工具
├── App.tsx              # 主应用组件
├── App.css              # 应用样式
├── index.css            # 全局样式
└── main.tsx             # 应用入口
```

## 🚀 快速开始

### 环境要求
- Node.js >= 16.0.0
- npm >= 8.0.0

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

访问 http://localhost:5173 查看应用

### 构建生产版本
```bash
npm run build
```

### 代码检查
```bash
npm run lint
```

## 📖 使用指南

### 1. 概览页面
- **统计信息**：查看产品部件数、工艺数、总时间、预估成本
- **成本分析**：材料成本、人工成本、管理费用明细
- **效率指标**：配置工艺数、可用材料数、设备数量等
- **工艺流程图**：可视化展示所有部件和工艺的关系

### 2. 产品设计
#### 部件管理
- 添加部件：设置名称、尺寸、材料、数量、复杂度
- 编辑部件：修改部件信息和参数
- 删除部件：移除不需要的部件
- 查看详情：查看部件的完整信息

#### 工艺配置
- 选择部件：从下拉菜单选择要配置的部件
- 添加工艺：为部件添加加工工艺
- 编辑工艺：修改工艺参数和备注
- 删除工艺：移除不需要的工艺

### 3. 效率配置管理
- **添加配置**：创建新的工艺效率配置
- **编辑配置**：修改基础时间、尺寸系数、复杂度系数
- **删除配置**：移除不需要的配置
- **统计分析**：查看配置统计信息

### 4. 计算原理

#### 工艺时间计算
```
计算时间 = (基础时间 + 尺寸影响) × 复杂度系数

其中：
- 尺寸影响 = 面积(mm²) / 10000 × 尺寸系数
- 复杂度系数：简单=1.0, 中等=1.3, 复杂=1.8
```

#### 材料成本计算
```
材料成本 = 单价 × 用量 × 数量

用量计算：
- 按件：直接使用数量
- 按面积：面积(m²) × 数量
- 按重量：体积(m³) × 密度 × 数量
```

#### 总成本计算
```
总成本 = 材料成本 + 人工成本 + 管理费用

其中：
- 人工成本 = 总时间(小时) × 小时工资率
- 管理费用 = (材料成本 + 人工成本) × 管理费率(20%)
```

## 🎯 功能特色

### 智能计算
- **自动尺寸计算**：输入长宽高自动计算面积体积
- **实时时间估算**：修改参数后立即更新计算时间
- **成本自动核算**：材料、人工、管理成本自动计算
- **效率指标分析**：提供详细的效率分析数据

### 灵活配置
- **可扩展工艺**：支持添加自定义工艺类型
- **多材料支持**：支持板材、五金、胶水等多种材料
- **复杂度分级**：三级复杂度影响时间计算
- **批量操作**：支持批量添加和修改

### 可视化展示
- **流程图展示**：直观显示部件和工艺关系
- **状态颜色编码**：不同状态用不同颜色表示
- **统计图表**：多种统计信息可视化展示
- **响应式设计**：适配不同屏幕尺寸

## 📈 扩展功能

### 已实现功能
- ✅ 多部件产品设计
- ✅ 尺寸自动计算
- ✅ 工艺时间估算
- ✅ 成本自动核算
- ✅ 效率配置管理
- ✅ 可视化流程图
- ✅ 响应式界面

### 计划功能
- [ ] 材料库存管理
- [ ] 设备状态监控
- [ ] 生产进度跟踪
- [ ] 数据导出功能
- [ ] 用户权限管理
- [ ] 历史记录管理
- [ ] 报表生成功能
- [ ] 成本优化建议

## 🔧 开发说明

### 数据模型
```typescript
// 部件信息
interface Component {
  id: string;
  name: string;
  size: ComponentSize;
  material: string;
  quantity: number;
  complexity: 'simple' | 'medium' | 'complex';
  processes: ComponentProcess[];
  totalTime: number;
}

// 效率配置
interface EfficiencyConfig {
  id: string;
  processName: string;
  baseTime: number;
  sizeFactor: number;
  complexityFactor: number;
  unit: 'minute' | 'hour';
  description: string;
}
```

### 核心算法
- **时间计算算法**：基于尺寸和复杂度的智能时间估算
- **成本计算算法**：多维度成本自动核算
- **效率分析算法**：效率指标自动计算和分析

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 📞 联系方式

如有问题或建议，请提交 Issue 或联系开发团队。

---

**享受您的智能工艺流程设计体验！** 🎉
